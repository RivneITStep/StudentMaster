(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Ywk0:function(t,e,i){"use strict";i.r(e);var c=i("ofXK"),n=i("tyNb"),o=i("0IaG"),s=i("ey9i"),a=i("ifH6"),r=i("fXoL"),b=i("f0Cb"),l=i("bTqV");function d(t,e){if(1&t){const t=r.Zb();r.Yb(0,"button",6),r.gc("click",(function(e){r.Dc(t);const i=r.kc();return i.deleteNew(i.data.id)})),r.Mc(1,"DELETE"),r.Xb()}}let m=(()=>{class t{constructor(t,e,i,c){this.dialogRef=t,this.data=e,this.authService=i,this.adminService=c,this.isAdmin=!1,this.isAdmin=this.authService.HasRole(s.m)}onNoClick(){this.dialogRef.close()}deleteNew(t){this.adminService.removeNew(t).subscribe(()=>{this.dialogRef.close()})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(o.f),r.Sb(o.a),r.Sb(s.c),r.Sb(a.a))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-show-new"]],decls:10,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[2,"margin-left","1rem","font-size","18px"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(r.Yb(0,"h1",0),r.Mc(1),r.Xb(),r.Yb(2,"div",1),r.Yb(3,"p",2),r.Mc(4),r.Xb(),r.Xb(),r.Tb(5,"mat-divider"),r.Yb(6,"div",3),r.Kc(7,d,2,0,"button",4),r.Yb(8,"button",5),r.gc("click",(function(t){return e.onNoClick()})),r.Mc(9,"Close"),r.Xb(),r.Xb()),2&t&&(r.Eb(1),r.Nc(e.data.name),r.Eb(3),r.Nc(e.data.message),r.Eb(3),r.qc("ngIf",e.isAdmin))},directives:[o.g,o.d,b.a,o.c,c.l,l.b],styles:["*[_ngcontent-%COMP%]{word-wrap:break-word}"]}),t})();var u=i("5TJC"),f=i("3Pt+"),p=i("kmnG"),h=i("qFsG");let w=(()=>{class t{constructor(t,e,i){this.fb=t,this.adminService=e,this.dialogRef=i}ngOnInit(){this.form=this.fb.group({title:["",[f.v.required]],text:["",[f.v.required]]})}onSubmit(){const t=this.form.value;this.adminService.addNew(t.title,t.text).subscribe(()=>{this.dialogRef.close()},()=>{this.dialogRef.close()})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(f.e),r.Sb(a.a),r.Sb(o.f))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-add-new"]],decls:19,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"cell-12"],["matInput","","placeholder","Input Title","formControlName","title"],["matInput","","placeholder","Input Text","formControlName","text"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-dialog-actions",""],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(r.Yb(0,"h1",0),r.Mc(1,"Add a new :)"),r.Xb(),r.Yb(2,"div",1),r.Yb(3,"form",2),r.Yb(4,"mat-form-field",3),r.Yb(5,"mat-label"),r.Mc(6,"Input Title"),r.Xb(),r.Tb(7,"input",4),r.Xb(),r.Tb(8,"br"),r.Yb(9,"mat-form-field",3),r.Yb(10,"mat-label"),r.Mc(11,"Input Text"),r.Xb(),r.Tb(12,"textarea",5),r.Xb(),r.Yb(13,"div"),r.Yb(14,"button",6),r.gc("click",(function(t){return e.onSubmit()})),r.Mc(15," Add "),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Yb(16,"div",7),r.Yb(17,"button",8),r.gc("click",(function(t){return e.dialogRef.close()})),r.Mc(18,"Close"),r.Xb(),r.Xb()),2&t&&(r.Eb(3),r.qc("formGroup",e.form),r.Eb(11),r.qc("disabled",e.form.invalid))},directives:[o.g,o.d,f.w,f.p,f.j,p.b,p.f,h.b,f.c,f.o,f.h,l.b,o.c],styles:[""]}),t})();var g=i("kt0X"),v=i("Wp6s");function k(t,e){if(1&t){const t=r.Zb();r.Yb(0,"button",4),r.gc("click",(function(e){return r.Dc(t),r.kc().addNew()})),r.Mc(1,"Add a new"),r.Xb()}}function X(t,e){if(1&t){const t=r.Zb();r.Yb(0,"mat-card",5),r.gc("click",(function(i){r.Dc(t);const c=e.$implicit;return r.kc().openDialog(c.id)})),r.Yb(1,"mat-card-title"),r.Mc(2),r.Xb(),r.Yb(3,"mat-card-content"),r.Mc(4),r.lc(5,"date"),r.Xb(),r.Xb()}if(2&t){const t=e.$implicit;r.Eb(2),r.Nc(t.name),r.Eb(2),r.Nc(r.nc(5,2,t.date,"medium"))}}const Y=[{path:"",component:(()=>{class t{constructor(t,e,i,c){this.store=t,this.dialog=e,this.adminService=i,this.authService=c,this.news=[],this.isAdmin=!1}ngOnInit(){this.isAdmin=this.authService.HasRole(s.m),this.store.dispatch(new u.a),this.store.select("news").subscribe(t=>{this.news=t.news})}openDialog(t){const e=this.news.find(e=>e.id===t);this.dialog.open(m,{width:"60%",data:e}).afterClosed().subscribe(()=>{this.store.dispatch(new u.a)})}addNew(){this.dialog.open(w,{width:"60%"}).afterClosed().subscribe(()=>{this.store.dispatch(new u.a)})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(g.h),r.Sb(o.b),r.Sb(a.a),r.Sb(s.c))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-news"]],decls:5,vars:2,consts:[[1,"cell-8","offset-2"],["mat-raised-button","","color","accent","class","cell-12",3,"click",4,"ngIf"],[1,"row"],["class","new-item cell-md-3 cell-12",3,"click",4,"ngFor","ngForOf"],["mat-raised-button","","color","accent",1,"cell-12",3,"click"],[1,"new-item","cell-md-3","cell-12",3,"click"]],template:function(t,e){1&t&&(r.Yb(0,"div",0),r.Kc(1,k,2,0,"button",1),r.Tb(2,"br"),r.Yb(3,"div",2),r.Kc(4,X,6,5,"mat-card",3),r.Xb(),r.Xb()),2&t&&(r.Eb(1),r.qc("ngIf",e.isAdmin),r.Eb(3),r.qc("ngForOf",e.news))},directives:[c.l,c.k,l.b,v.a,v.f,v.b],pipes:[c.e],styles:[".new-item[_ngcontent-%COMP%]{margin-right:1rem;margin-top:1rem;cursor:pointer}"]}),t})(),canActivate:[s.b]}];let S=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[n.i.forChild(Y)],n.i]}),t})();var M=i("JqCM"),N=i("M0ag");i.d(e,"NewsModule",(function(){return C}));let C=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[c.c,S,N.a,M.b]]}),t})()}}]);