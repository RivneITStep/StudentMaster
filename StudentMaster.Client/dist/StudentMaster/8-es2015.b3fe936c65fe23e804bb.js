(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{dg1D:function(t,e,c){"use strict";c.r(e);var o=c("ofXK"),i=c("tyNb"),n=c("P0IN"),s=c("rWMZ"),a=c("D7qI"),l=c("fXoL"),r=c("kt0X"),b=c("wZkO"),m=c("Wp6s"),f=c("f0Cb"),h=c("bTqV"),u=c("NFeN");function d(t,e){1&t&&l.Tb(0,"mat-tab",5),2&t&&l.rc("label",e.$implicit)}function p(t,e){1&t&&(l.Yb(0,"h1",6),l.Mc(1,"No homeworks yet."),l.Xb())}function g(t,e){if(1&t){const t=l.Zb();l.Yb(0,"button",15),l.gc("click",(function(e){l.Dc(t);const c=l.kc().$implicit;return l.kc().upload(c.id)})),l.Yb(1,"mat-icon"),l.Mc(2,"publish"),l.Xb(),l.Xb()}}function y(t,e){if(1&t){const t=l.Zb();l.Yb(0,"button",16),l.gc("click",(function(e){l.Dc(t);const c=l.kc().$implicit;return l.kc().remove(c.id)})),l.Yb(1,"mat-icon"),l.Mc(2,"delete"),l.Xb(),l.Xb()}}function k(t,e){if(1&t&&(l.Yb(0,"h2",6),l.Yb(1,"div",17),l.Mc(2),l.Xb(),l.Xb()),2&t){const t=l.kc().$implicit;l.Eb(2),l.Nc(t.mark)}}function w(t,e){if(1&t&&(l.Yb(0,"mat-card",7),l.Yb(1,"mat-card-title"),l.Mc(2),l.Xb(),l.Yb(3,"mat-card-subtitle"),l.Mc(4),l.Xb(),l.Tb(5,"mat-divider"),l.Yb(6,"mat-card-content",8),l.Yb(7,"a",9),l.Yb(8,"mat-icon"),l.Mc(9,"get_app"),l.Xb(),l.Xb(),l.Tb(10,"input",10),l.Kc(11,g,3,0,"button",11),l.Kc(12,y,3,0,"button",12),l.Kc(13,k,3,1,"h2",13),l.Xb(),l.Tb(14,"mat-divider"),l.Yb(15,"mat-card-footer",14),l.Yb(16,"h3"),l.Mc(17),l.Xb(),l.Xb(),l.Xb()),2&t){const t=e.$implicit,c=l.kc();l.Eb(2),l.Nc(t.subject),l.Eb(2),l.Nc(t.theme),l.Eb(3),l.qc("href",c.fileAPI+t.path,l.Fc),l.Eb(4),l.qc("ngIf",t.status===c.types[0]),l.Eb(1),l.qc("ngIf",t.status===c.types[1]),l.Eb(1),l.qc("ngIf",t.status===c.types[2]),l.Eb(4),l.Oc("To: ",t.todate,"")}}const X=[{path:"",component:(()=>{class t{constructor(t,e,c){this.hS=t,this.store=e,this.tools=c,this.homeworks=[],this.types=["OPEN","REVIEW","CLOSED"],this.selectedType="OPEN",this.fileAPI=s.c}ngOnInit(){this.hS.getMyHomeworksRedux().subscribe(t=>{this.homeworks=t.filter(t=>t.status===this.selectedType)})}onChange(t){this.selectedType=this.types[t],this.hS.getMyHomeworksRedux().subscribe(e=>{this.homeworks=e.filter(e=>e.status===this.types[t])})}remove(t){this.hS.removeMyHomework(t).subscribe(()=>{this.tools.showNotification("Success"),this.hS.getMyHomeworksRedux().subscribe(t=>{this.homeworks=t.filter(t=>t.status===this.selectedType)})})}upload(t){const e=document.getElementById("fileSelector");e.click(),e.onchange=e=>{if(console.log(e.target.files[0].type),e.target.files[0].type.indexOf("image")&&e.target.files[0].type.indexOf("text/plain"))this.tools.showNotification("Please select valid file");else{const c=new FormData;c.append("Id",t),c.append("file",e.target.files[0]),this.hS.doHomeWorkAsync(c).subscribe(()=>{this.tools.showNotification("Success"),this.hS.getMyHomeworksRedux().subscribe(t=>{this.homeworks=t.filter(t=>t.status===this.selectedType)})})}}}}return t.\u0275fac=function(e){return new(e||t)(l.Sb(n.a),l.Sb(r.h),l.Sb(a.a))},t.\u0275cmp=l.Mb({type:t,selectors:[["app-homeworks"]],decls:5,vars:3,consts:[["mat-align-tabs","center","animationDuration","2000ms",3,"selectedIndexChange"],[3,"label",4,"ngFor","ngForOf"],["class","cell-12","style","text-align: center;",4,"ngIf"],[1,"row"],["class","cell-11 cell-md-3","style","margin: 1rem;",4,"ngFor","ngForOf"],[3,"label"],[1,"cell-12",2,"text-align","center"],[1,"cell-11","cell-md-3",2,"margin","1rem"],[2,"height","auto","text-align","center","flex","content"],["target","_blank","mat-icon-button","","color","primary","download","download","aria-label","Download",1,"cell-3",2,"margin","1rem",3,"href"],["id","fileSelector","type","file",2,"display","none"],["class","cell-3","style","margin: 1rem;","aria-label","Upload","mat-icon-button","","color","accent",3,"click",4,"ngIf"],["class","cell-3","style","margin: 1rem;","aria-label","Delete","mat-icon-button","","color","warn",3,"click",4,"ngIf"],["class","cell-12","style","text-align: center ",4,"ngIf"],[2,"text-align","center"],["aria-label","Upload","mat-icon-button","","color","accent",1,"cell-3",2,"margin","1rem",3,"click"],["aria-label","Delete","mat-icon-button","","color","warn",1,"cell-3",2,"margin","1rem",3,"click"],[1,"mark"]],template:function(t,e){1&t&&(l.Yb(0,"mat-tab-group",0),l.gc("selectedIndexChange",(function(t){return e.onChange(t)})),l.Kc(1,d,1,1,"mat-tab",1),l.Xb(),l.Kc(2,p,2,0,"h1",2),l.Yb(3,"div",3),l.Kc(4,w,18,7,"mat-card",4),l.Xb()),2&t&&(l.Eb(1),l.qc("ngForOf",e.types),l.Eb(1),l.qc("ngIf",0===e.homeworks.length),l.Eb(2),l.qc("ngForOf",e.homeworks))},directives:[b.b,o.k,o.l,b.a,m.a,m.f,m.e,f.a,m.b,h.a,u.a,m.c,h.b],styles:[".mark[_ngcontent-%COMP%]{font-size:28px;color:#f0f}"]}),t})(),canActivate:[c("ey9i").b]}];let I=(()=>{class t{}return t.\u0275mod=l.Qb({type:t}),t.\u0275inj=l.Pb({factory:function(e){return new(e||t)},imports:[[i.i.forChild(X)],i.i]}),t})();var M=c("M0ag");c.d(e,"HomeworksModule",(function(){return E}));let E=(()=>{class t{}return t.\u0275mod=l.Qb({type:t}),t.\u0275inj=l.Pb({factory:function(e){return new(e||t)},imports:[[o.c,I,M.a]]}),t})()}}]);